<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Galactic Path</title>
<link rel="icon" href="https://img.icons8.com/?size=80&id=oqrxoYQucToV&format=png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
<style>
body, html {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #000;
    color: white;
    font-family: "Orbitron", sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
@keyframes starScroll {
    0% { background-position: 0 0; }
    100% { background-position: 0 2000px; }
}
body {
    background: url('https://www.transparenttextures.com/patterns/stardust.png') repeat;
    animation: starScroll 10s linear infinite;
}
#startScreen {
    text-align: center;
    color: #0ff;
}
#title {
    font-size: 50px;
    margin-bottom: 20px;
    color: #0ff;
}
#highScore {
    font-size: 18px;
    color: #ff0;
    margin-top: 30px;
}
#startButton, #announcementButton {
    background-color: #0f0;
    border: none;
    padding: 15px;
    font-size: 18px;
    cursor: pointer;
    margin-top: 20px;
    border-radius: 5px;
    color: #000;
}
#announcementButton {
    background-color: #0ff;
}
#announcementBox {
    display: none;
    position: absolute;
    top: 70px;
    right: 20px;
    background-color: rgba(0, 0, 0, 0.8);
    padding: 10px;
    color: #fff;
    border-radius: 5px;
    width: 200px;
    font-size: 14px;
}
#gameCanvas {
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #ffffff22;
    box-shadow: 0 0 15px #0ff;
}
#scoreDisplay {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 20px;
    color: #0ff;
}
#pauseMenu {
    display: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.9);
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 0 15px #0ff;
    font-size: 20px;
}
#pauseMenu button {
    background-color: #0ff;
    color: #000;
    border: none;
    padding: 10px;
    margin-top: 15px;
    font-size: 18px;
    cursor: pointer;
    border-radius: 5px;
    width: 100%;
}
#pauseMenu button:hover {
    background-color: #00f;
}
#gameOver {
    display: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 32px;
    text-align: center;
    color: #f00;
    background-color: rgba(0, 0, 0, 0.85);
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 0 10px #f00;
}
#gameOver button {
    background-color: #ff0;
    color: #000;
    border: none;
    padding: 10px;
    font-size: 20px;
    cursor: pointer;
    margin-top: 15px;
    border-radius: 5px;
}
#gameOver button:hover {
    background-color: #ff8c00;
}
#pauseButton {
    position: absolute;
    top: 10px;
    right: 10px;
    padding: 10px 20px;
    font-size: 16px;
    background-color: #ff0;
    color: #000;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}
</style>
</head>
<body>
<div id="startScreen">
    <div id="title">Galactic Path</div>
    <button id="startButton" onclick="startGame()">Start Game</button>
    <button id="announcementButton" onclick="toggleAnnouncement()">Announcement</button>
    <div id="highScore">High Score: <span id="savedHighScore">0</span></div>
</div>
<div id="announcementBox">ðŸš€ Galactic Path is now live! Good luck, pilots!</div>
<div id="scoreDisplay" style="display:none;">Score: 0 | High Score: <span id="displayedHighScore">0</span></div>
<div id="gameOver">
    Game Over!<br>
    <button onclick="startGame()">Restart</button>
</div>
<canvas id="gameCanvas" width="400" height="600" style="display:none;"></canvas>
<div id="pauseMenu">
    <div>Paused</div>
    <button onclick="togglePause()">Continue</button>
    <button onclick="backToHome()">Back to Home</button>
</div>
<button id="pauseButton" onclick="togglePause()" style="display:none;">Pause</button>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
let player, obstacles, score = 0, highScore = 0, isGameOver = false, isPaused = false, speed = 2;
let savedHighScore = localStorage.getItem('highScore') || 0;
document.getElementById("savedHighScore").textContent = savedHighScore;
let touchStartX = 0;
let touchCurrentX = 0;

function toggleAnnouncement() {
    const box = document.getElementById("announcementBox");
    box.style.display = box.style.display === "none" ? "block" : "none";
}

function startGame() {
    document.getElementById("startScreen").style.display = "none";
    document.getElementById("gameCanvas").style.display = "block";
    document.getElementById("scoreDisplay").style.display = "block";
    document.getElementById("pauseButton").style.display = "block";
    document.getElementById("gameOver").style.display = "none";
    document.getElementById("pauseMenu").style.display = "none";
    player = { x: 200, y: 550, radius: 10 };
    obstacles = [];
    score = 0;
    isGameOver = false;
    isPaused = false;
    speed = 2;
    setTimeout(() => { generateObstacles(); }, 2000);
    requestAnimationFrame(updateGame);
}

function backToHome() {
    document.getElementById("startScreen").style.display = "block";
    document.getElementById("gameCanvas").style.display = "none";
    document.getElementById("scoreDisplay").style.display = "none";
    document.getElementById("pauseButton").style.display = "none";
    document.getElementById("gameOver").style.display = "none";
    document.getElementById("pauseMenu").style.display = "none";
    isPaused = false;
}

function togglePause() {
    isPaused = !isPaused;
    document.getElementById("pauseMenu").style.display = isPaused ? "block" : "none";
    if (!isPaused) requestAnimationFrame(updateGame);
}

function createObstacle() {
    const x = Math.random() * (canvas.width - 20);
    obstacles.push({ x, y: -30, width: 20, height: 20 });
}

function generateObstacles() {
    setInterval(() => {
        if (!isPaused && !isGameOver && obstacles.length < 15) {
            createObstacle();
        }
    }, 300);
}

function updateScore() {
    if (!isPaused && !isGameOver) score += 1;
     score += 1;

        if (score % 100 === 0) {
            speed += 0.2;
        }
    }
}
setInterval(updateScore, 100);

function updateGame() {
    if (isPaused || isGameOver) return;
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "white";
    ctx.beginPath();
    ctx.arc(player.x, player.y, player.radius, 0, Math.PI * 2);
    ctx.fill();

    obstacles.forEach((obs, index) => {
        obs.y += speed;
        ctx.fillStyle = "red";
        ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
        
        const distX = Math.abs(player.x - (obs.x + obs.width / 2));
        const distY = Math.abs(player.y - (obs.y + obs.height / 2));
        if (distX < player.radius + obs.width / 2 && distY < player.radius + obs.height / 2) {
            isGameOver = true;
            document.getElementById("gameOver").style.display = "block";
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('highScore', highScore);
            }
        }
        if (obs.y > canvas.height) obstacles.splice(index, 1);
    });

    document.getElementById("scoreDisplay").textContent = `Score: ${score} | High Score: ${Math.max(score, savedHighScore)}`;

    if (player.x - player.radius < 0) player.x = player.radius;
    if (player.x + player.radius > canvas.width) player.x = canvas.width - player.radius;

    if (!isGameOver) requestAnimationFrame(updateGame);
}

document.addEventListener("keydown", function (event) {
    if (event.key === "ArrowLeft" || event.key === "a") player.x -= 10;
    if (event.key === "ArrowRight" || event.key === "d") player.x += 10;
    if (event.key === "p") togglePause();
});

document.addEventListener("touchstart", function (event) {
    touchStartX = event.touches[0].clientX;
    touchCurrentX = player.x;
});

document.addEventListener("touchmove", function (event) {
    const dx = event.touches[0].clientX - touchStartX;
    player.x = touchCurrentX + dx;
});
</script>
</body>
</html>
